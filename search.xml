<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>计算机系统基础</title>
      <link href="2021/03/16/ji-suan-ji-xi-tong-ji-chu/"/>
      <url>2021/03/16/ji-suan-ji-xi-tong-ji-chu/</url>
      
        <content type="html"><![CDATA[<h3 id="1-进程内存映像"><a href="#1-进程内存映像" class="headerlink" title="1.进程内存映像"></a>1.进程内存映像</h3><ul><li>代码区：包含组成可执行文件的各种命令，保存着函数、控制语句、常数等，在进程创建时保存一次，直到进程销毁。代码区为只读区域，不可执行写入操作</li><li>数据与BSS区：保存着全局变量、静态常量、数组、结构体等。在进程创建时分配空间，进程运行时存入值。这两个区域都是可读写的<br>堆区：该区域是事先预约的空间，供进程运行时使用。程序员调用API可以分配任意大小内存。一般调用malloc()或calloc()函数进行分配，调用free()函数进行释放</li><li>栈区：程序自动使用的临时内存区域，用于保存局部变量的值，在函数调用时分配，函数退出时返还。堆与栈内存分配于相同空间。堆从低地址到高地址分配内存，栈从高地址向低地址分配内存，它们是系统黑客攻击的主要目标。在main()函数中，按照参数、返回地址、帧指针、局部变量顺序压入栈<br><img src="https://www.hualigs.cn/image/6050c8b9bf973.jpg" alt=""></li></ul><h3 id="2-应用程序"><a href="#2-应用程序" class="headerlink" title="2.应用程序"></a>2.应用程序</h3><ul><li>对使用编译型语言编写的程序，要采用黑盒方式探测漏洞进行黑客攻击。因为我们无法通过反编译方式得到程序源代码进行分析，只能通过输入不同值观察进程行为以进行黑客攻击</li><li>解释型语言程序，可以直接通过分析源代码寻找程序漏洞，这成为“白盒漏洞分析技术”</li></ul><h3 id="3-Web"><a href="#3-Web" class="headerlink" title="3.Web"></a>3.Web</h3><ul><li>寻找漏洞以获取系统root权限，或者发动黑客攻击盗取重要信息时，最常用的技术就是Web技术。虽然防火墙、IPS、IDS等可以组织来自外部的大部分攻击，但在安全规则中，向外提供Web服务器的80端口却常被作为一个例外进行处理<br><img src="https://www.hualigs.cn/image/6050c8b9b959c.jpg" alt=""></li></ul><h3 id="4-HTTP"><a href="#4-HTTP" class="headerlink" title="4.HTTP"></a>4.HTTP</h3><ul><li>HTTP请求协议由协议头与协议体组成，协议头含有方法类型、请求URL等服务处理所需的各种信息，而协议体则包含表单参数，与用户输入值对应</li><li>HTTP响应协议大致由状态码、内容类型、响应内容组成，其中状态码指示响应状态，内容类型指出传送的数据类型，响应内容是要展现给用户的结果<br><img src="https://www.hualigs.cn/image/6050c8b9b926e.jpg" alt=""></li></ul><h3 id="5-Cookie与会话"><a href="#5-Cookie与会话" class="headerlink" title="5.Cookie与会话"></a>5.Cookie与会话</h3><ul><li>浏览器保存数据的空间，称为Cookie</li><li>目前只将简单的控制信息、会话ID信息保存于此。由于Cookie信息包含于HTTP协议头信息，所以可将其用作在客户端与服务器之间传递信息的手段</li><li>会话是保存用户信息的Web服务器对象</li><li>用户登录Web后，用户信息就会保存在会话之中，然后通过Cookie将会话ID传递给浏览器。Web服务器会使用通过HTTP头传递的会话ID（位于Cookie）判断是否是认证用户</li></ul><p>基于会话的认证系统：</p><ul><li>（1）创建会话：创建用于保存用户认证信息的会话。创建的会话由Web服务器管理，保存在Web服务器进程占用的内存中</li><li>（2）传送会话ID：创建会话时，会同时创建用于标识会话的ID。为了判断相应客户端是否已经认证，在HTTP响应的Set-Cookie字段异同传送会话ID</li><li>（3）保存会话ID：浏览器从HTTP响应头提取会话ID并添加到Cookie</li><li>（4）传送会话ID：请求服务时，浏览器会将所有Cookie值放入HTTP请求头的Cookie字段、并进行传送，其中也包含会话ID</li><li>（5）识别会话：Web服务器分析HTTP头，从中提取会话ID。然后根据相应ID从自身会话列表提取相应值，进行认证</li></ul><p><strong>例1：一个UNIX密码破解器</strong></p><ul><li><p>需要用标准库中的crypt模块的crypt()函数。传入密码和盐即可。用crypt()函数哈希一个密码试试，输入密码”egg”和盐”HX”，返回的哈希值是”HX9LLTdc/jiDE”，现在可以遍历整个字典，试图用常用的盐来匹配破解哈希密码</p></li><li><p>哈希密码的前两位就是盐的前两位，这里假设盐只有两位<br><img src="https://www.hualigs.cn/image/6050c8b89f867.jpg" alt=""></p></li><li><p>程序分两部分，一部分是打开字典，另一部分是哈希匹配密码</p></li><li><p>UNIX/Linux系统将密码存储在/etc/shadow文件中，提供了更安全的哈希散列算法SHA-512算法，Python标准库中hashlib模块提供了此算法，可以更新代码，破解SHA-512哈希散列加密算法的密码</p></li></ul><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># coding=UTF-8</span><span class="token comment" spellcheck="true">#暴力破解UNIX的密码，需要输入字典文件和UNIX的密码文件</span><span class="token keyword">import</span> crypt<span class="token keyword">def</span> <span class="token function">testPass</span><span class="token punctuation">(</span>cryptPass<span class="token punctuation">)</span><span class="token punctuation">:</span>    salt<span class="token operator">=</span>cryptPass<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span>    <span class="token comment" spellcheck="true">#前两个字符</span>    dictfile<span class="token operator">=</span>open<span class="token punctuation">(</span><span class="token string">'dictionary.txt'</span><span class="token punctuation">,</span><span class="token string">'r'</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#打开字典文件</span>    <span class="token keyword">for</span> word <span class="token keyword">in</span> dictfile<span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        word<span class="token operator">=</span>word<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#去行尾换行符，保留原始的字符，不去空格</span>        cryptWord<span class="token operator">=</span>crypt<span class="token punctuation">.</span>crypt<span class="token punctuation">(</span>word<span class="token punctuation">,</span>salt<span class="token punctuation">)</span>        <span class="token keyword">if</span> cryptPass<span class="token operator">==</span>cryptWord<span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Found Passed:'</span><span class="token punctuation">,</span>word<span class="token punctuation">)</span>            <span class="token keyword">return</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Password not found!'</span><span class="token punctuation">)</span>    <span class="token keyword">return</span><span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    passfile<span class="token operator">=</span>open<span class="token punctuation">(</span><span class="token string">'passwords.txt'</span><span class="token punctuation">,</span><span class="token string">'r'</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#读取密码文件 open('r/etc/shadow','r')</span>    <span class="token keyword">for</span> line <span class="token keyword">in</span> passfile<span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        user<span class="token operator">=</span>line<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">':'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>    <span class="token comment" spellcheck="true">#前第一项</span>        cryptPass<span class="token operator">=</span>line<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">':'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Cracking Password For:"</span><span class="token punctuation">,</span>user<span class="token punctuation">)</span>        testPass<span class="token punctuation">(</span>cryptPass<span class="token punctuation">)</span><span class="token keyword">if</span> __name__<span class="token operator">==</span><span class="token string">'__main__'</span><span class="token punctuation">:</span>    main<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><ul><li>sqlmap模块（非标准库，sqlmap.org）提供了wordlist文件，解压后，得到的wordlist.txt（安转目录\data\txt\wordlist.tx_再解压）文件可以作为字典用于破解，包含大量常用密码超过120万个，10+MB</li></ul><p><strong>例2：ZIP文件密码破解</strong></p><ul><li>Python的标准库提供了ZIP文件的提取压缩模块zipfile，现在试用此模块暴力破解出加密的ZIP文件</li><li>可以用extractall()这个函数抽取文件，密码正确则返回正确，密码错误则抛出异常</li></ul><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> zipfile<span class="token keyword">import</span> threading<span class="token keyword">def</span> <span class="token function">extractFile</span><span class="token punctuation">(</span>zFile<span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        zFile<span class="token punctuation">.</span>extractall<span class="token punctuation">(</span>pwd<span class="token operator">=</span>password<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#extractall(pwd=password.encode('ascii'))</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Foune Passwd:"</span><span class="token punctuation">,</span>password<span class="token punctuation">)</span>        <span class="token keyword">return</span> password    <span class="token keyword">except</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span><span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    zFile<span class="token operator">=</span>zipfile<span class="token punctuation">.</span>ZipFile<span class="token punctuation">(</span><span class="token string">'unzip.zip'</span><span class="token punctuation">)</span>    passFile<span class="token operator">=</span>open<span class="token punctuation">(</span><span class="token string">'dictionary.txt'</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> line <span class="token keyword">in</span> passFile<span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        password<span class="token operator">=</span>line<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span>        t<span class="token operator">=</span>threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>extractFile<span class="token punctuation">,</span>args<span class="token operator">=</span><span class="token punctuation">(</span>zFile<span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span>        t<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>       <span class="token triple-quoted-string string">''' 单线    guess=extractFile(zFile,password)    if guess:        print('Password=',password)        return    else:        print("can't find password")        return    '''</span><span class="token keyword">if</span> __name__<span class="token operator">==</span><span class="token string">'__main__'</span><span class="token punctuation">:</span>    main<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>3/16/2021 11:06:45 PM </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>黑客攻击技术</title>
      <link href="2021/03/15/hei-ke-gong-ji-ji-zhu/"/>
      <url>2021/03/15/hei-ke-gong-ji-ji-zhu/</url>
      
        <content type="html"><![CDATA[<ul><li>系统攻击针对的是计算机内核，可以侵入计算机内核管理的内存、注册表等区域，非法获取其中数据或root权限</li><li>应用程序攻击是围绕用户运行的程序实施的攻击。通过向应用程序注入包含恶意代码的DLL或调试操作，拦截用户的键盘输入</li><li>Web攻击利用网络浏览器与Web服务器的结构漏洞实施黑客攻击，是目前常用的攻击技术</li><li>网络黑客攻击基于网络实施黑客攻击，包括常见的DoS攻击、网络包嗅探（Spoofing）等</li><li>此外，还有无线网络攻击与其他黑客攻击技术<br><img src="https://www.hualigs.cn/image/604f72e460616.jpg" alt=""></li></ul><h1 id="一、应用程序攻击"><a href="#一、应用程序攻击" class="headerlink" title="一、应用程序攻击"></a>一、应用程序攻击</h1><ul><li>计算机中有许多安全解决方案。比如键盘安全解决方案，对键盘输入与屏幕输出之间传送的数据进行加密。黑客攻击使用的键盘记录器也采用了类似原理，系统内核提供的消息钩取功能。键盘输入由系统内核进行感知，在中间拦截消息。</li><li>开发应用程序时，调试器是必需的工具。发生特定事件或调用API时，调试器会暂停正在执行的操作，转而运行其他功能或记录内存状态。黑客也可以使用它诱导系统运行恶意代码。</li></ul><h1 id="二、应用程序攻击技术"><a href="#二、应用程序攻击技术" class="headerlink" title="二、应用程序攻击技术"></a>二、应用程序攻击技术</h1><p><strong>1.消息钩取</strong></p><ul><li>使用user32.dll中的SetWindowsHookExA()</li><li>Windows通过钩链（HookChain，处理消息的一系列函数指针的列表）处理来自键盘、鼠标等设备的消息</li><li>可将特定处理进程的指针强行注册到钩链，这样消息到来时即可对其进行特定处理</li><li>键盘记录器是最具代表性的攻击技术，采用消息钩取方式，在中间窃取用户的键盘输入消息，然后将之发送给黑客</li></ul><p><strong>2.API钩取</strong></p><ul><li>API钩取技术利用了操作系统提供的调试进程</li><li>首先使用调试器，在应用程序特定的命令位置设置断点，注册特定方法以便执行</li><li>应用程序运行过程中，遇到断点就会执行之前注册的方法（回调方法），黑客只要在回调方法中植入攻击代码即可执行相应动作</li></ul><p><strong>3.DLL注入</strong></p><ul><li>将动态链接库DLL插入特定应用程序</li><li>使用注册表，具体做法是现在注册表特定位置输入指定DLL名称，应用程序调用user32.dll时，指定DLL就会被加载到内存</li><li>注册钩取函数，以便特定事件发生时加载指定DLL</li><li>为运行中的应用程序创建远程线程以插入DLL。Windows中，CreateRemoteThread()函数用于创建远程线程</li></ul><p><strong>4.代码注入</strong></p><ul><li>与采用线程方式的DLL注入技术类似，不同之处在于，它插入的不是DLL，而是可以直接运行的shellcode</li><li>代码注入的优点是不需要事先将DLL保存到系统特定位置，并且执行速度快，不易被察觉</li><li>不足之处在于，shellcode自身特点决定了无法向其插入复杂的黑客攻击代码</li></ul><h1 id="三、Web攻击"><a href="#三、Web攻击" class="headerlink" title="三、Web攻击"></a>三、Web攻击</h1><ul><li>Web系统一般由网络浏览器、Web服务器、数据库三部分组成</li><li>黑客会恶意使用Web系统提供的功能</li><li>利用文件上传功能，将Webshell文件与恶意代码上传到Web服务器，然后运行Web shell文件，获取上传文件所在位置，进而控制Web服务器</li><li>利用用户输入功能可以实施SQL注入攻击，通过输入非正常SQL查询语句获取Web服务器的错误信息，并对这些信息加以分析，进而实施攻击</li><li>利用文件下载功能，可以将恶意代码散布到网络上的多台PC。网络浏览器中运行的THML与脚本代码可以被恶意用于开展XSS（跨站脚本）攻击与CSS（层叠样式表）攻击</li></ul><h1 id="四、Web攻击技术"><a href="#四、Web攻击技术" class="headerlink" title="四、Web攻击技术"></a>四、Web攻击技术</h1><p><strong>1.XSS（Cross-Site Scripting）攻击技术</strong></p><ul><li>将恶意代码植入到提供给其它用户使用的页面中。比如HTML页面和客户端脚本</li><li>感染浏览页面的用户PC，从中盗取用户个人信息、控制企业数据、挂马等。恶意代码大多数是脚本（JavaScript——公认的新型“ShellCode”），它读取cookie，并将其发送到特定URL</li><li>增强浏览器安全性，应用Web防火墙等应对</li></ul><p><strong>2.CSRF（Cross Site Request Forgery，跨站请求伪造）</strong></p><ul><li>也被称为“One Click Attack”或者“Session Riding”，通常缩写为CSRF或者XSRF</li><li>XSS利用站点内的信任用户，而CSRF则通过伪装受信任用户的请求来利用受信任的网站，对Web服务器发动攻击</li><li>CSRF攻击往往不大流行，难以防范<br><img src="https://www.hualigs.cn/image/604f72e66f246.jpg" alt=""></li></ul><p><strong>3.网络钓鱼（Phishing）</strong></p><p>黑客通过精心设计与银行、证券公司类似的仿冒网站（欺诈性邮件），骗取受害人在这些网站输入的金融信息或个人敏感信息</p><p><strong>4.域欺骗（Pharming）攻击</strong></p><p>黑客首先入侵DNS服务器，修改正常的域名与IP对照表，将仿冒网站的IP地址发送给用户浏览器，从而将用户引导至精心设计的仿冒网站</p><p><strong>5.SQL注入</strong></p><ul><li>利用HTML input标签发动攻击，以常见的登录处理过程为例说明</li><li>黑客向用户ID与密码框中输入的是一些能够诱使数据库产生错误行为的值。比如将类似OR 1=1输入并提交，服务器接收并构造SQL语句查询数据库，验证通过</li><li>黑客通过反复输入非正常的SQL语句，分析数据库返回的数据，从而得到最适合对系统进行攻击的SQL语句</li></ul><p><strong>6.Web shell攻击</strong></p><ul><li>恶意利用了Web提供的文件上传功能</li><li>将用于远程操纵服务器的Webshell文件上传到Web服务器，然后找到上传文件所在位置，得到访问Web shell文件的URL地址</li><li>然后，通过该URL地址运行Web shell文件，获取可以控制操作系统的超级权限</li></ul><h1 id="四、网络攻击"><a href="#四、网络攻击" class="headerlink" title="四、网络攻击"></a>四、网络攻击</h1><p>TCP/IP本质上并不具有防范攻击的能力，在连接设置与通信过程中有很多问题</p><ul><li>客户端初次尝试连接服务器时会向服务器发送SYN包，服务器将为该连接分配缓冲资源——若客户端不断向服务器发送SYN包，则服务器就会不断分配通信缓冲，缓冲全部耗尽后，服务器瘫痪</li><li>正常的通信连接结束后，黑客可以伪装成客户机拦截通信会话。一般使用TCP头中的序列号对通信对方进行认证，第三方可以轻松得到该序列号，并伪装相应客户机</li><li>IP头中的源IP信息很容易伪造。将源IP伪造为攻击方系统的IP而非客户机PC的IP并向服务器发送SYN包，服务器就会将ACK包发送给攻击方系统，从而实现Dos攻击</li></ul><h1 id="五、网络黑客攻击技术"><a href="#五、网络黑客攻击技术" class="headerlink" title="五、网络黑客攻击技术"></a>五、网络黑客攻击技术</h1><p><strong>1.端口扫描</strong></p><ul><li>IP是识别站点的逻辑地址，端口是逻辑单位，服务器对外开放的端口中最具代表性的是80,443（HTTPS），21（FTP），22（SSH），23（Telnet），25/110（SMTP/POP3），161（SNMP）…<ul><li>公认端口（Well-known Ports）：从0到1023</li><li>注册端口（Registered Ports）：从1024到49151，松散地绑定于一些服务</li><li>动态和/或私有端口（Dynamic and/or Private Ports）：从49152到65535.理论上，不应为服务分配这些端口。实际上，机器通常从1024起分配动态端口，SUN的RPC端口从32768开始</li></ul></li><li>端口扫描是针对对外提供服务的服务器进行扫描，获取服务器对外开放的端口列表<ul><li>基于UDP的端口扫描通过UDP包扫描端口</li><li>基于TCP的端口扫描则通过SYN、FIN等多种包扫描端口，探测相应端口是否开放</li></ul></li></ul><p><strong>2.包嗅探</strong></p><ul><li>以太网的同一网络环境（使用同一路由器）中，数据包的传送是基于MAC地址进行的。一台PC向另一台PC传送数据时，会广播到同网段的所有PC</li><li>借助包嗅探技术，PC会接收并处理所有数据包。这样，同一网络中传播的所有数据可一目了然</li></ul><p><strong>3.会话劫持（Session Hijacking）攻击</strong></p><ul><li>大致分为HTTP会话劫持与TCP会话劫持两类。前者是指通过盗取保存服务认证信息的Cookie中的SessionID值进行黑客攻击，后者是指盗取TCP数据包信息</li><li>网络攻击中常见TCP会话劫持</li><li>TCP协议使用IP、Port、Sequence Number三个要素对通信对方进行认证 </li></ul><p>做法：</p><ul><li>先通过包嗅探获取认证信息，然后使用它在中间拦截客户机与服务器之间的通信</li><li>黑客暂时断开客户机与服务器之间的连接，将发送方IP修改为黑客PC的IP，重设与服务器的连接</li><li>在服务器看来，通信只是暂时发生了中断，然后再次成功连接，从而将黑客PC误认为客户机</li><li>客户机与黑客PC也采用类似方式设置连接。这样，客户机与服务器之间的所有通信都会经过黑客PC</li></ul><p><strong>4.欺骗（Spoofing）攻击</strong></p><ul><li>可以对DNS、IP、ARP(IP-&gt;MAC)进行欺骗攻击</li><li>ARP欺骗</li><li>PC内部有ARP缓存表，若在ARP缓存中查不到相应信息，则可以通过ARP协议获取指定IP对应的MAC</li><li>由于ARP协议在设计时未充分考虑安全问题，所以很容易受到攻击。只要使用ARP Reply包即可轻松操作对方的ARP缓存表</li><li>黑客将PC A与PC B对应的信息替换为自身PC的MAC地址后，所有通信都会经过黑客PC </li></ul><p><strong>5.DoS（Denial of Service）攻击</strong></p><ul><li>通过修改SYN数据包的发送方地址，或者不断发送SYN数据包，将大量IP数据包分割为更小的单位进行传送等，即可使系统服务陷入瘫痪</li><li>DoS攻击指通过发送大量的数据包使系统服务瘫痪 </li><li>使用少数几台PC发动DoS攻击使攻击目标系统服务瘫痪并非易事。黑客广泛散播病毒，将大量PC机变为僵尸PC（“肉鸡”），通过控制这些僵尸PC发送大量合法服务请求，以使目标主机服务瘫痪——DDoS</li><li>通过僵尸网络（Botnet）发动DDoS攻击仍然是非常有用的攻击手段。恶意代码可以通过电子邮件、公告栏、木马等多种方式进行传播</li><li>为了防范DDoS攻击，一般采用网络隔离，将业务网与互联网隔离，接入互联网的机器感染，影响范围也不会扩散到内网</li></ul><h1 id="六、系统攻击"><a href="#六、系统攻击" class="headerlink" title="六、系统攻击"></a>六、系统攻击</h1><p>利用计算机系统结构与功能漏洞非法盗取敏感信息，或者诱使计算机执行意想不到的功能。 </p><p><strong>1.Rootkit</strong></p><ul><li>获取目标主机的root权限，或者安装可以控制系统的后门</li><li>有用户模式、内核模式、引导模式三种类型</li><li>用户模式在应用程序级别工作，比较容易测出，对系统危害较低</li><li>内核模式下会向内核添加其它代码，或者直接用新代码替代原有代码。开发虽然有难度，但能够对系统造成致命损害</li><li>引导模式对MBR（Master Boot Record，主引导记录）、VBR（Volume Boot Record，卷引导记录）、引导扇区产生影响，能够对整个文件系统加密，或者使系统无法引导</li></ul><p><strong>2.后门</strong></p><p>后门是指可以远程控制用户PC的程序</p><p><strong>3.注册表攻击</strong></p><p>注册表是一种数据库，采用“键，值”的形式保存各种信息。可以通过接口CRUD（Create Read Update Delete）操作注册表，尝试初始化用户密码、修改防火墙设置、DLL注入等多种攻击</p><p><strong>4.缓冲区溢出攻击</strong></p><ul><li>通过向进程输入非正常数据，将黑客精心准备的数据保存到内存，并使之运行</li><li>进程运行时，相应的数据会进入其内存区域，如栈、堆以及寄存器。修改此类数据后，进程的处理顺序就会改变或者停止运行。黑客通过不断修改输入值，观察哪些数据会引发错误，以及在输入值的哪一部分植入shell code可以运行，最终编写攻击代码</li><li>缓冲区溢出攻击代码不是独立运行的程序，它是随视频、音乐、文档一起运行的程序文件</li><li>将含有错误代码的视频发布到网络，用户下载该视频后，在播放器中将视频文件打开的瞬间，其内部含有的shell code会使内存陷入异常，从而得以运行 </li></ul><p><strong>5.竞态条件攻击</strong></p><ul><li>竞态条件是指两个进程为了使用一种资源而彼此竞争的状况。多个进程同时写一个文件时，就需要相互竞争，以获得该文件的句柄。竞态条件攻击利用此过程中出现的安全漏洞发动攻击</li><li>最常用的方式是利用/etc/passwd文件的负号链接，etc/passwd文件保存着用户账户信息。首先，使用root权限获得用户输入，创建临时文件，查找用于处理逻辑的进程。黑客向该进程反复输入代表添加用户的值（hacker: :0:0:root:/root:/bin/ksh）。另一方面，运行程序，反复创建/etc/passwd文件的符号链接（与临时文件同名）。两个进程争夺文件句柄的过程中，进程会向符号文件链接保存用户输入。此时，hacker: :0:0:root:/root:/bin/ksh会被写入etc/passwd文件，最终黑客账户获得root权限</li></ul><h1 id="三、其他攻击技术"><a href="#三、其他攻击技术" class="headerlink" title="三、其他攻击技术"></a>三、其他攻击技术</h1><p><strong>1.无线局域网黑客攻击技术</strong></p><ul><li>通过无线AP使用WIFI，无线局域网认证合法用户，并采用WEP、WPA、WPA2等多种安全机制对传送的数据进行加密</li><li>WEP（Wired Equivalent Privacy，有线等效加密）RC4串流加密技术有缺陷</li><li>WPA（WiFi Protected Access WiFi保护接入） 提高了安全性，但最初认证过程中存在隐藏WPA密钥的漏洞。黑客能够强制终止认证的会话，诱导重新认证，从而轻松获取WPA密钥</li><li>WPA2使用AES-CCMP加密方法弥补WPA的缺点。虽然无法破解或盗取WPA2的加密密钥，但采用ARP欺骗方式可以窃取接入者的敏感信息。因此，需要使用WIPS（Wireless Intrusion Prevention System）等设备为无线局域网构建立体防御体系</li></ul><p><strong>2.密码攻击技术</strong></p><p>第三方不是合法的加密参与方，它通过非正常方法试图进行加密、解密，称为密码攻击</p><ul><li>密文单独攻击是指攻击者在只有密文的情形下找出明文与加密密钥，攻击难度最高</li><li>已知明文攻击是指攻击者在有密文与部分明文的情形下展开攻击</li><li>选择明文攻击是指攻击者在能够执行加密的状态下进行攻击</li><li>选择密文攻击是指攻击者在可以解密的状态下进行攻击</li><li>暴力破解攻击，使用所有可能的字符组合进行暴力破解。从事先定义的字典依次取值代入，以达到破解密码的目的</li></ul><p><strong>3.社会工程黑客攻击技术</strong></p><p>只能通过不断对雇员进行安全培训并提高其安全意识进行预防<br>3/15/2021 10:55:05 PM </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Python系统管理</title>
      <link href="2021/03/13/python-xi-tong-guan-li/"/>
      <url>2021/03/13/python-xi-tong-guan-li/</url>
      
        <content type="html"><![CDATA[<h1 id="一、相关模块"><a href="#一、相关模块" class="headerlink" title="一、相关模块"></a>一、相关模块</h1><ul><li>os模块：与操作系统相关的函数</li><li>os.path模块：与路径相关的函数</li><li>glob模块：文件通配符操作</li><li>tempfile模块：创建临时目录和文件</li><li>shutil模块：与目录和文件操作相关的函数</li><li>subprocess模块：用于执行其他程序</li></ul><h1 id="二、目录、文件和磁盘的基本操作"><a href="#二、目录、文件和磁盘的基本操作" class="headerlink" title="二、目录、文件和磁盘的基本操作"></a>二、目录、文件和磁盘的基本操作</h1><p><strong>创建目录</strong></p><p>使用os模块中的mkdir函数，可以创建目录，语法形式如下：</p><ul><li>os.mkdir(path,mode=0o777)    #创建目录path</li><li>os.makedirs(path,mode=0o777)    #创建目录path，以及所有的path中包含的上级目录</li></ul><p>其中，path为指定目录。如果path已存在，则导致FileExistsError</p><p><strong>临时目录和文件的创建</strong></p><p>使用tempfile模块中的函数，可以创建临时目录和文件，语法形式如下：</p><ul><li>tempfile.mkdtemp(suffix=’’,prefix=’tmp’,dir=None)    #创建并返回临时目录</li><li>tempfile.mkstemp(suffix=’’,prefix=’tmp’,dir=None,text=False)    #创建并返回临时文件</li><li>tempfile.TemporaryDirectory(suffix=’’,prefix=’tmp’,dir=None)    #调用mkdtemp，创建临时目录</li><li>tempfile.TemporaryFile(mode=’w+b’,buffering=None,encoding=None,newline=None,suffix=’’,prefix=’tmp’,dir=None)    #调用mkstemp，创建临时文件</li><li>tempfile.tempdir    #设置临时目录对应的路径</li><li>tempfile.gettempdir()    #获取临时目录</li></ul><p><strong>切换当前工作目录</strong></p><p>使用os模块中的chdir函数，可以切换当前工作目录，语法形式如下：</p><p>os.chdir(path)    #切换当前工作目录为path</p><p>其中，path为指定文件。如果找不到path，则导致FileNotFoundError</p><p><strong>目录内容列表</strong></p><p>使用os模块中的listdir函数，可以显示一个目录中的文件/子目录列表，语法形式如下：</p><p>os.listdir(path=’.’)    # 返回指定目录path中的所有文件/子目录的列表</p><p>其中，path为指定目录，默认为当前目录：’.’。os.curdir也表示当前目录</p><p><strong>文件通配符和glob.glob函数</strong></p><p>使用glob模块中的glob函数，可以获取满足指定模式的文件/目录列表，语法形式如下：</p><p>glob.glob(pathname)    #返回满足指定模式pathname的文件/目录的列表</p><p>其中，pathname为目录/文件模式，可以包含通配符*（0或多个字符）和？（1个字符）</p><p><strong>遍历目录和os.walk函数</strong></p><p>使用os模块的walk函数，可以遍历指定的目录结构，语法形式如下：</p><p>os.walk(top,topdown=True,onerror=None,followlink=False)    #返回目录结构的迭代器</p><p>其中，top为起始目录；topdown若为False，则从下往上遍历。对于目录结构中的每一个目录，生成一个元组：（dirpath,dirnames,filenames），dirpath为目录，dirnames为其中包含的子目录列表，filenames为其中包含的文件列表。</p><p>使用os模块的join函数，可以将目录名和文件名连接成全限定路径，函数形式如下：</p><p>os.path.join(path1[,path2[, …]])</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#输出指定目录的目录结构</span><span class="token keyword">import</span> re<span class="token punctuation">,</span>os<span class="token punctuation">,</span>os<span class="token punctuation">.</span>path<span class="token keyword">def</span> <span class="token function">ls_py</span><span class="token punctuation">(</span>top<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span><span class="token punctuation">(</span>dirname<span class="token punctuation">,</span>subdirs<span class="token punctuation">,</span>files<span class="token punctuation">)</span><span class="token keyword">in</span> os<span class="token punctuation">.</span>walk<span class="token punctuation">(</span>top<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'['</span><span class="token operator">+</span>dirname<span class="token operator">+</span><span class="token string">']'</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> fname <span class="token keyword">in</span> files<span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>dirname<span class="token punctuation">,</span>fname<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__<span class="token operator">==</span><span class="token string">'__main__'</span><span class="token punctuation">:</span>    path1<span class="token operator">=</span>r<span class="token string">'c:\pyrhonpa\ch17'</span>    ls_py<span class="token punctuation">(</span>path1<span class="token punctuation">)</span></code></pre><p><strong>判断文件/目录是否存在</strong></p><p>使用os.path模块函数exists，可以判断文件/目录是否存在，语法形式如下：</p><p>os.path.exists(路径名)</p><p><strong>测试文件类型</strong></p><ul><li>os.path.isfile(path)    #路径path是否为文件类型</li><li>os.path.isdir(path)    #路径path是否为目录类型</li><li>os.path.islink(path)    #路径path是否为链接类型</li><li>os.path.ismount(path)    #路径path是否为装载点类型</li><li>os.path.isabs(path)    #路径path是否为绝对路径</li></ul><p><strong>文件的日期及大小</strong></p><p>使用os.path模块函数，可以获取文件和目录的其它属性，语法形式如下：</p><ul><li>os.path.getatime(path)    #返回上次访问时间</li><li>os.path.getmtime(path)    #返回上次修改时间</li><li>os.path.getctime(path)    #返回创建时间</li><li>os.path.getsize(path)    #返回指定路径path的大小</li></ul><p>其中，path为指定文件目录路径，默认为当前目录: ‘.’</p><p><strong>文件的删除</strong></p><p>使用os模块中的remove函数，可以删除指定文件，语法形式如下：</p><p>os.remove(path)    #删除指定文件path</p><p><strong>目录的删除</strong></p><p>使用os模块中的rmdir函数，可以删除指定目录，语法形式如下：</p><p>os.rmdir(path)    #删除指定目录path</p><p>使用shutil模块中的rmtree函数，可以删除指定目录及目录下的所有内容</p><p>shutil.rmtree(path)    #删除指定目录path</p><p><strong>文件和目录复制、重命名和移动</strong></p><p>使用shutil模块中的下列函数，可以复制文件和目录，语法形式如下：</p><ul><li>shutil.copy(src,dst)    #拷贝文件src到dst，如果dst为目录，则拷贝到dst目录下</li><li>shutil.copy2(src,dst)    #拷贝文件src到dst，如果dst为目录，则拷贝到dst目录下</li><li>shutil.copytree(src,dst,symlinks=False,ignore=None)    #拷贝目录树src到dst</li><li>shutil.move(src,dst)    #将文件/目录src移动到dst</li></ul><p><strong>磁盘的基本操作</strong></p><p>使用shutil模块中的disk_usage函数，可以获取磁盘空间的使用情况，语法形式如下：</p><p>shutil.disk_usage(path)    #返回指定path上的磁盘的空间使用情况：（总数，已用，可用）</p><h1 id="三、执行操作系统命令和运行其他程序"><a href="#三、执行操作系统命令和运行其他程序" class="headerlink" title="三、执行操作系统命令和运行其他程序"></a>三、执行操作系统命令和运行其他程序</h1><p><strong>os.system函数</strong></p><p>使用os模块中的system函数，可以在Python程序中执行操作系统的命令和脚本，或运行其它程序，语法形式如下：</p><p>os.system(command)    #执行操作系统命令，返回命令执行结果的返回代码</p><pre class=" language-python"><code class="language-python">os<span class="token punctuation">.</span>system<span class="token punctuation">(</span><span class="token string">'dir'</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#执行操作系统命令</span>os<span class="token punctuation">.</span>system<span class="token punctuation">(</span><span class="token string">'notepad.exe'</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#执行程序，启动记事本</span></code></pre><p><strong>os.popen函数</strong></p><p>执行操作系统的命令和脚本</p><p>os.popen(…)    #执行操作系统命令，返回打开的管道（相当于文件）</p><p><strong>subprocess模块</strong></p><p>创建子进程、运行外部程序、连接到其输入/输出/错误管道、获取其返回值</p><p>取代os.system和os.popen函数，提供更高级的功能</p><ul><li>call(args,*,stdin=None,stdout=None,stderr=None,shell=False,timeout=None)</li><li>check_call(args,*,stdin=None,stdout=None,stderr=None,shell=False,timeout=None)</li><li>check_output(args,’,stdin=None,stderr=None,shell=False,universal_newlines=False,timeout=None)</li></ul><p><strong>获取终端的大小</strong></p><p>通过os或shutil模块的get_terminal_size函数，可以获取终端的大小，以方便输出内容的格式化操作</p><ul><li>os.get_terminal_size(fd=STDOUT_FILENO)    #获取并返回终端大小</li><li>shutil.get_terminal_size(fallback=(80,24))    #获取并返回终端大小</li></ul><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#获取终端的大小示例</span><span class="token keyword">import</span> os<span class="token punctuation">,</span>shutil<span class="token keyword">def</span> <span class="token function">get_term_size_test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    sz<span class="token operator">=</span>shutil<span class="token punctuation">.</span>get_terminal_size<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'窗口大小：'</span><span class="token punctuation">,</span>sz<span class="token punctuation">)</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span>sz<span class="token punctuation">.</span>lines<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'*'</span><span class="token operator">*</span> sz<span class="token punctuation">.</span>columns<span class="token punctuation">)</span><span class="token keyword">if</span> __name__<span class="token operator">==</span><span class="token string">'__main__'</span><span class="token punctuation">:</span>    get_term_size_test<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><strong>文件压缩和解压缩</strong></p><p>使用shutil模块的make_archive和unpack_archive等函数，实现文件的压缩和解压缩功能</p><p>shutil模块支持的压缩和解压缩格式：shutil模块的get_archive_formats和get_unpack_formats函数返回支持的压缩和解压缩格式</p><h1 id="四、CONFIGPARSER模块和配置文件"><a href="#四、CONFIGPARSER模块和配置文件" class="headerlink" title="四、CONFIGPARSER模块和配置文件"></a>四、CONFIGPARSER模块和配置文件</h1><ul><li>configparser模块用于读取和写入配置文件</li><li>INI文件及INI文件格式<ul><li>通常位于应用程序的配置文件文件夹中，用于保存应用程序的各种配置信息</li></ul></li><li>ConfigParser对象和INI文件操作<ul><li>读取和写入INI文件……<br><img src="https://www.hualigs.cn/image/604c831cae4d9.jpg" alt=""></li></ul></li></ul><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#读取和写入INI文件</span><span class="token keyword">import</span> configparser<span class="token keyword">def</span> <span class="token function">ini_create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true">#创建INI文件</span>    config<span class="token operator">=</span>configparser<span class="token punctuation">.</span>ConfigParser<span class="token punctuation">(</span><span class="token punctuation">)</span>    config<span class="token punctuation">[</span><span class="token string">'SystemInfo'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'port'</span><span class="token punctuation">:</span><span class="token string">'8080'</span><span class="token punctuation">}</span>    config<span class="token punctuation">[</span><span class="token string">'GameInfo'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'level1'</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'scores'</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">}</span>    <span class="token keyword">with</span> open<span class="token punctuation">(</span><span class="token string">'example.ini'</span><span class="token punctuation">,</span><span class="token string">'y'</span><span class="token punctuation">)</span><span class="token keyword">as</span> configfile<span class="token punctuation">:</span>        config<span class="token punctuation">.</span>write<span class="token punctuation">(</span>configfile<span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">ini_read_write</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true">#读取和设置INI文件</span>    config<span class="token operator">=</span>configparser<span class="token punctuation">.</span>ConfigParser<span class="token punctuation">(</span><span class="token punctuation">)</span>    config<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token string">'example.ini'</span><span class="token punctuation">)</span>    config<span class="token punctuation">[</span><span class="token string">'SystemInfo'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'port'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">'8088'</span>    config<span class="token punctuation">.</span>set<span class="token punctuation">(</span><span class="token string">'GameInfo'</span><span class="token punctuation">,</span><span class="token string">'scores'</span><span class="token punctuation">,</span><span class="token string">'1000'</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> item <span class="token keyword">in</span> config<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token string">'GameInfo'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>    <span class="token keyword">with</span> open<span class="token punctuation">(</span><span class="token string">'example.ini'</span><span class="token punctuation">,</span><span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> configfile<span class="token punctuation">:</span>        config<span class="token punctuation">.</span>write<span class="token punctuation">(</span>configfile<span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    ini_create<span class="token punctuation">(</span><span class="token punctuation">)</span>    ini_read_write<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>3/13/2021 6:47:58 PM </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Python多线程</title>
      <link href="2021/03/12/python-duo-xian-cheng/"/>
      <url>2021/03/12/python-duo-xian-cheng/</url>
      
        <content type="html"><![CDATA[<h1 id="一、概述"><a href="#一、概述" class="headerlink" title="一、概述"></a>一、概述</h1><p>进程是操作系统中正在执行的不同应用程序的一个实例</p><p>线程是进程中的一个实体，是被操作系统独立调度和分派处理时间的基本单位</p><p><strong>线程的优缺点：</strong></p><ul><li>并发处理，因而特别适合需要同时执行多个操作的场合</li><li>解决用户响应性能和多任务的问题</li><li>引入了资源共享和同步等问题</li></ul><p>python3创建多线程主要有两种方法：函数、类</p><p>python3内置模块threading.Thread，可以很方便的创建多线程，threading.Thread()一般接收2个参数：</p><ul><li>线程函数名：要放置线程让其后台执行的函数，由用户自定义</li><li>线程函数的参数：线程函数名所需的参数，以tuple形式传入，如果不需要参数，可以不制定。</li></ul><p>自定义的类，两个要求：</p><ul><li>必须继承threading.Thread这个父类</li><li>必须重写init()和run()方法。run()方法相当于第一种方法中的线程函数，可以写自己需要的业务逻辑代码，在start()后会自动调用</li></ul><pre class=" language-python"><code class="language-python">threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>group<span class="token operator">=</span>None<span class="token punctuation">,</span>target<span class="token operator">=</span>None<span class="token punctuation">,</span>name<span class="token operator">=</span>None<span class="token punctuation">,</span>args<span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>kwars<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><ul><li>group: 应该为None</li><li>target: 可以传入一个函数用于run()方法调用</li><li>name: 线程名默认使用“Thread.N”</li><li>args: 元组，表示传入target函数的参数</li><li>kwargs: 字典，传入target函数中关键字参数</li></ul><p><strong>属性：</strong></p><ul><li>name    #线程表示，没有任何语义</li><li>daemon    #布尔值，如果是守护线程为True，不是为False，主线程不是守护线程，默认False</li></ul><p><strong>类方法：</strong></p><ul><li>run()    #用以表示线程活动的方法</li><li>start()    #启动线程活动</li><li>join([time])    #等待至线程中止。阻塞调用线程直至线程的join()方法被调用中止、正常退出或者抛出未处理的异常，或者是可选的超时发生。在于线程运行完之前，该子线程的父线程将一直被阻塞。</li><li>isAlive():    返回线程是否活动的</li><li>getName():    返回线程名</li><li>setName():    设置线程名</li></ul><p>python的_thread模块提供了基本的线程和互斥锁支持，threading模块则提供了功能更全面的线程控制机制以及信号量机制。</p><h1 id="二、创建和启动多线程"><a href="#二、创建和启动多线程" class="headerlink" title="二、创建和启动多线程"></a>二、创建和启动多线程</h1><ul><li><strong>使用start_new_thread函数创建线程</strong></li></ul><p>thread.start_new_thread(function,’args’,[kwargs])    #创建一个新线程并返回其标识符</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#使用_thread模块的start_new_thread函数创建线程</span><span class="token keyword">import</span> _thread<span class="token punctuation">,</span>time<span class="token punctuation">,</span>random<span class="token keyword">def</span> <span class="token function">timer</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>range<span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#随机睡眠0-interval秒</span>        thread_id<span class="token operator">=</span>_thread<span class="token punctuation">.</span>get_ident<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#获取当前线程标识符</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Thread:{0} Time{1}\n'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>thread_id<span class="token punctuation">.</span>time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true">#使用start_new_thread()函数创建2个线程</span>    _thread<span class="token punctuation">.</span>start_new_thread<span class="token punctuation">(</span>timer<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#创建线程</span>    _thread<span class="token punctuation">.</span>start_new_thread<span class="token punctuation">(</span>timer<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#创建线程</span><span class="token keyword">if</span> __name__<span class="token operator">==</span><span class="token string">'__main__'</span><span class="token punctuation">:</span>    test<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><ul><li><strong>使用Thread对象创建线程</strong><br>​​​​​​​<br>Thread(target=None,name=None,args=(),kwargs={})    #构造函数</li></ul><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> threading<span class="token punctuation">,</span>time<span class="token punctuation">,</span>random<span class="token keyword">def</span> <span class="token function">timer</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>range<span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#随机睡眠0-interval秒</span>        thread_id<span class="token operator">=</span>threading<span class="token punctuation">.</span>get_ident<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#获取当前线程标识符</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Thread:{0} Time:{1}\n'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>thread_id<span class="token punctuation">,</span>time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        t1<span class="token operator">=</span>threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>timer<span class="token punctuation">,</span>args<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    t2<span class="token operator">=</span>threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>timer<span class="token punctuation">,</span>args<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    t1<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    t2<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__<span class="token operator">==</span><span class="token string">'__main__'</span><span class="token punctuation">:</span>    test<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><img src="https://www.hualigs.cn/image/604b8bae74073.jpg" alt=""></p><ul><li><strong>自定义派生于Thread的对象</strong></li></ul><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#通过声明Thread派生类，创建和启动新线程</span><span class="token keyword">import</span> threading<span class="token punctuation">,</span>time<span class="token punctuation">,</span>random<span class="token keyword">class</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span>threading<span class="token punctuation">.</span>Thread<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true">#继承threading.Thread</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>interval<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true">#构造函数</span>        threading<span class="token punctuation">.</span>Thread<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#调用父类构造函数</span>        self<span class="token punctuation">.</span>interval<span class="token operator">=</span>interval    <span class="token comment" spellcheck="true">#对象属性</span>    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>range<span class="token punctuation">(</span>self<span class="token punctuation">.</span>interval<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#随机睡眠0-interval秒</span>            thread_id<span class="token operator">=</span>threading<span class="token punctuation">.</span>get_ident<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#获取当前线程标识符</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Thread:{0} Time:{1}'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>thread_id<span class="token punctuation">,</span>time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__<span class="token operator">==</span><span class="token string">'__main__'</span><span class="token punctuation">:</span>    t1<span class="token operator">=</span>MyThread<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>    t2<span class="token operator">=</span>MyThread<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>    t1<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    t2<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><ul><li><strong>线程加入join()</strong></li></ul><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> threading<span class="token punctuation">,</span>time<span class="token punctuation">,</span>random<span class="token keyword">class</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span>threading<span class="token punctuation">.</span>Thread<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true">#继承threading.Thread</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true">#构造函数</span>        threading<span class="token punctuation">.</span>Thread<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#调用父类构造函数</span>    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#睡眠1秒</span>            t<span class="token operator">=</span>threading<span class="token punctuation">.</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#获取当前线程</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'{0} at {1}\n'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>t<span class="token punctuation">.</span>name<span class="token punctuation">,</span>time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'线程t1结束'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    t1<span class="token operator">=</span>MyThread<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#创建线程   </span>    t1<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">'t1'</span>    <span class="token comment" spellcheck="true">#设置线程名称</span>    t1<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#启动线程</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'主线程开始等待线程(t1)2s'</span><span class="token punctuation">)</span>    t1<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'主线程等待线程(t1)2s结束'</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'主线程开始等待线程结束'</span><span class="token punctuation">)</span>    t1<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'主线程结束'</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__<span class="token operator">==</span><span class="token string">'__main__'</span><span class="token punctuation">:</span>    test<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><ul><li><strong>用户线程和daemon线程：</strong><br>​​​​​​​ <pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> threading<span class="token punctuation">,</span>time<span class="token keyword">class</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span>threading<span class="token punctuation">.</span>Thread<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true">#继承threading.Thread</span>  <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>interval<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true">#构造函数</span>      threading<span class="token punctuation">.</span>Thread<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#调用父类构造函数</span>      self<span class="token punctuation">.</span>interval<span class="token operator">=</span>interval    <span class="token comment" spellcheck="true">#对象属性</span>  <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>      t<span class="token operator">=</span>threading<span class="token punctuation">.</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#获取当前线程</span>      <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'线程'</span><span class="token operator">+</span>t<span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">'开始'</span><span class="token punctuation">)</span>      time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span>self<span class="token punctuation">.</span>interval<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#延迟self.interval秒</span>      <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'线程'</span><span class="token operator">+</span>t<span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">'结束'</span><span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">MyThreadDaemon</span><span class="token punctuation">(</span>threading<span class="token punctuation">.</span>Thread<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>interval<span class="token punctuation">)</span><span class="token punctuation">:</span>      threading<span class="token punctuation">.</span>Thread<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">)</span>      self<span class="token punctuation">.</span>interval<span class="token operator">=</span>interval  <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>      t<span class="token operator">=</span>threading<span class="token punctuation">.</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'线程'</span><span class="token operator">+</span>t<span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">'开始'</span><span class="token punctuation">)</span>      <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>          time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span>self<span class="token punctuation">.</span>interval<span class="token punctuation">)</span>          <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'daemon线程'</span><span class="token operator">+</span>t<span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">'正在运行'</span><span class="token punctuation">)</span>      <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'线程'</span><span class="token operator">+</span>t<span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">'结束'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'主线程开始'</span><span class="token punctuation">)</span>  t1<span class="token operator">=</span>MyThread<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>  t2<span class="token operator">=</span>MyThreadDaemon<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  t1<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">'t1'</span>  t2<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">'t2'</span>  t2<span class="token punctuation">.</span>daemon<span class="token operator">=</span><span class="token boolean">True</span>    <span class="token comment" spellcheck="true">#设置为daemon</span>  t1<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>  t2<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'主线程结束'</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__<span class="token operator">==</span><span class="token string">'__main__'</span><span class="token punctuation">:</span>  test<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><img src="https://www.hualigs.cn/image/604b8bae40e03.jpg" alt=""></li></ul><h1 id="三、线程同步"><a href="#三、线程同步" class="headerlink" title="三、线程同步"></a>三、线程同步</h1><h2 id="1-基于原语锁（Lock-RLock对象）的简单同步"><a href="#1-基于原语锁（Lock-RLock对象）的简单同步" class="headerlink" title="1. 基于原语锁（Lock/RLock对象）的简单同步"></a>1. 基于原语锁（Lock/RLock对象）的简单同步</h2><p><strong>用锁使多线程同时操作同一资源时不产生混乱</strong></p><ul><li>Lock是可用的最低级的同步指令。Lock处于锁定状态时，不被特定的线程拥有。Lock包含两种状态——锁定和非锁定，以及两个基本的方法。</li><li>可以认为Lock有一个锁定池，当线程请求锁定时，将线程至于池中，直到获得锁定后出池。池中的线程处于状态图中的同步阻塞状态。</li><li>RLock（可重入锁）是一个可以被同一个线程请求多次的同步指令。RLock使用了“拥有的线程”和“递归等级”的概念，处于锁定状态时，RLock被某个线程拥有。拥有RLock的线程可以再次调用acquire()，释放锁时需要调用release()相同次数。</li><li>可以认为RLock包含一个锁定池和一个初始值为0的计数器，每次成功调用acquire()/release()，计数器将+1/-1，为0时锁处于未锁定状态。</li><li>简言之：Lock属于全局，RLock属于线程。</li><li>构造方法：Lock(), Rlock()（推荐使用Rlock()）</li><li>实例方法：<ul><li>acquire([timeout]): 尝试获得锁定。使线程进入同步阻塞状态。</li><li>release(): 释放锁。使用前线程必须已获得锁定，否则将抛出异常。</li></ul></li></ul><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#题目：使用lock语句同步代码块示例。创建工作线程，模拟银行现金账户取款。多个线程同时执行取款操作时，如果不使用同步处理，会造成账户余额混乱；尝试使用同步锁对象Lock，以保证多个线程同时执行取款操作时，银行现金账户取款的有效和一致。</span></code></pre><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> threading<span class="token punctuation">,</span>time<span class="token punctuation">,</span>random<span class="token keyword">class</span> <span class="token class-name">Account</span><span class="token punctuation">(</span>threading<span class="token punctuation">.</span>Thread<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true">#继承threading.Thread</span>    lock<span class="token operator">=</span>threading<span class="token punctuation">.</span>Lock<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#创建锁</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>amount<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true">#构造函数</span>        threading<span class="token punctuation">.</span>Thread<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#调用父类构造函数</span>        Account<span class="token punctuation">.</span>amount<span class="token operator">=</span>amount    <span class="token comment" spellcheck="true">#账户金额</span>    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>withdraw<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#取款</span>    <span class="token keyword">def</span> <span class="token function">withdraw</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        Account<span class="token punctuation">.</span>lock<span class="token punctuation">.</span>acquire<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#获取锁，注释不使用同步处理</span>        t<span class="token operator">=</span>threading<span class="token punctuation">.</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span>        a<span class="token operator">=</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>range<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">101</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> Account<span class="token punctuation">.</span>amount<span class="token operator">&lt;</span>a<span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'{0}交易失败，取款前余额：{1}，取款额：{2}'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>t<span class="token punctuation">.</span>name<span class="token punctuation">,</span>Account<span class="token punctuation">.</span>amount<span class="token punctuation">,</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>            Account<span class="token punctuation">.</span>lock<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token number">0</span>    <span class="token comment" spellcheck="true">#拒绝交易</span>        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>range<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#随机睡眠0-5秒</span>        prev<span class="token operator">=</span>Account<span class="token punctuation">.</span>amount        Account<span class="token punctuation">.</span>amount<span class="token operator">-=</span>a    <span class="token comment" spellcheck="true">#取款</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'{0}取款前余额：{1}，取款额：{2}，取款后额：{3}'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>t<span class="token punctuation">.</span>name<span class="token punctuation">,</span>prev<span class="token punctuation">,</span>a<span class="token punctuation">,</span>Account<span class="token punctuation">.</span>amount<span class="token punctuation">)</span><span class="token punctuation">)</span>        Account<span class="token punctuation">.</span>lock<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#释放锁。注释不使用同步处理</span><span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true">#创建5个线程对象并启动</span>        Account<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__<span class="token operator">=</span><span class="token string">'__main__'</span><span class="token punctuation">:</span>    test<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><img src="https://www.hualigs.cn/image/604b8bae5a749.jpg" alt=""></p><h2 id="2-基于条件变量（Condition对象）的同步和通信"><a href="#2-基于条件变量（Condition对象）的同步和通信" class="headerlink" title="2. 基于条件变量（Condition对象）的同步和通信"></a>2. 基于条件变量（Condition对象）的同步和通信</h2><ul><li>Condition（条件变量）通常与一个锁关联。需要在多个Condition中共享一个锁时，可以传递一个Lock/RLock实例给构造方法，否则它将自己生成一个RLock实例。</li><li>除了Lock带有的锁定池外，Condition还包含一个等待池，池中的线程处于等待阻塞状态，直到另一线程调用notify()/notifyAll()通知；得到通知后线程进入锁定池等待锁定。</li><li>构造方法：Condition([lock/rlock])</li><li>实例方法：<ul><li>acquire([timeout])/release()：调用关联的锁的相应方法。</li><li>wait([timeout])：调用这个方法将使线程进入Condition的等待池等待通知，并释放锁。先释放获得的锁，然后阻塞，直到被唤醒或者超时，一旦被唤醒或者超时，会重新获取锁（应该说抢锁），然后返回。</li><li>notify()：从等待池挑选一个线程并通知，收到通知的线程将自动调用acquire()尝试获取锁定（进入锁定池）；其他线程仍然在等待池中。调用这个方法不会释放锁定。使用前线程必须已获得锁定，否则将抛出异常。</li><li>notifyAll()：通知等待池中所有的线程，这些线程都将进入锁定池尝试获得锁定。调用这个方法不会释放锁定。使用前线程必须已获得锁定，否则将抛出异常。</li></ul></li></ul><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#题目：将10000000递减到0程序终止，用单线程来执行，完成时间是多少？用多线程又会是多少？</span><span class="token comment" spellcheck="true">#任务</span><span class="token keyword">def</span> <span class="token function">decr</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">while</span> n<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">:</span>        n<span class="token operator">-=</span><span class="token number">1</span><span class="token comment" spellcheck="true">#单线</span><span class="token keyword">import</span> time start<span class="token operator">=</span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>decr<span class="token punctuation">(</span><span class="token number">10000000</span><span class="token punctuation">)</span>cost<span class="token operator">=</span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>start<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'单线程耗时：'</span><span class="token punctuation">,</span>cost<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#多线</span><span class="token keyword">import</span> threadingstart<span class="token operator">=</span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>t1<span class="token operator">=</span>threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>decr<span class="token punctuation">,</span>args<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">5000000</span><span class="token punctuation">]</span><span class="token punctuation">)</span>t2<span class="token operator">=</span>threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>decr<span class="token punctuation">,</span>args<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">5000000</span><span class="token punctuation">]</span><span class="token punctuation">)</span>t1<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>t2<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>t1<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#主线程阻塞，直到t1执行完成，主线程继续往后执行</span>t2<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span>cost<span class="token operator">=</span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>start<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'多线程耗时：'</span><span class="token punctuation">,</span>cost<span class="token punctuation">)</span></code></pre><p><img src="https://www.hualigs.cn/image/604b8bae5b911.jpg" alt=""></p><p>（理论上多线程应该不快反慢的，这个结果…可能是因为python3.7对GIL机制进行了优化？）</p><p><strong>导致Python多线程不快反慢的原因：</strong></p><ul><li>在Cpython解释器（Python语言的主流解释器）中，有一把全局解释锁GIL（Global Interpreter Lock）</li><li>同一时刻，只有一个线程在运行，其它线程只能等待，即使是多核CPU，也没有办法让多个线程“并行”地同时执行代码，只能是交替执行，因为多线程涉及到上下文切换、锁机制处理（获取锁、释放锁等），所以，多线程执行不快反慢。</li></ul><p><strong>Python的应对：</strong></p><ul><li>多进程：multiprocessing标准库，让多进程的python程序编写简化到类似多线程的程度</li><li>计算密集性的程序用C代码编写并通过扩展的方式集成到Python脚本里（如NumPy模块）。在扩展里就完全可以用C创建原生线程，而且不用锁GIL</li><li>利用ctypes绕过GIL，让Python通过ctypes直接调用任意的C动态库的导出函数，ctypes会在调用C函数前释放GIL</li><li>更换解释器，如Jython、IronPython等无GIL解释器</li><li>使用python3.4或更高版本（对GIL机制进行了优化）</li><li>科学计算之类需要持续使用CPU的任务时，单线程会比多线程快<br>I- O操作等可能引起阻塞的任务（如爬取）时，多线程会比单线程快（遇到IO阻塞会自动释放GIL锁）<br>3/12/2021 11:54:53 PM </li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Python网络编程和通信</title>
      <link href="2021/03/11/python-wang-luo-bian-cheng-he-tong-xin/"/>
      <url>2021/03/11/python-wang-luo-bian-cheng-he-tong-xin/</url>
      
        <content type="html"><![CDATA[<h1 id="一、基于SOCKET的网络编程"><a href="#一、基于SOCKET的网络编程" class="headerlink" title="一、基于SOCKET的网络编程"></a>一、基于SOCKET的网络编程</h1><p>套接字：网络中两个应用程序之间通信的端点</p><p><strong>基于套接字的TCPServer的网络编程一般包括以下基本步骤：</strong></p><p>（1）创建socket对象<br>（2）将socket绑定到指定地址上<br>（3）准备好套接字，以便接收连接请求<br>（4）通过socket对象方法accept，等待客户请求连接<br>（5）服务器和客户机通过send和recv方法通信（传输数据）<br>（6）传输结束，调用socket的close方法以关闭连接</p><p><strong>基于套接字的TCPClient的网络编程一般包括以下基本步骤：</strong></p><p>（1）创建socket对象<br>（2）通过socket对象方法connect连接服务器<br>（3）客户机和服务器通过send和recv方法通信（传输数据）<br>（4）传输结束，调用socket的close方法以关闭连接</p><p><strong>基于套接字的UDPServer的网络编程一般包括以下基本步骤：</strong><br>（UDP无连接数据包协议）</p><p>（1）创建socket对象<br>（2）将socket绑定到指定地址上<br>（3）服务器和客户机通过send和recv方法通信（传输数据）<br>（4）传输结束，调用socket的close方法以关闭连接</p><p><strong>基于套接字的UDPClient的网络编程一般包括以下基本步骤：</strong></p><p>（1）创建socket对象<br>（2）客户机和服务器通过send和recv方法通信（传输数据）<br>（3）传输结束，调用socket的close方法以关闭连接</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#题目——简单TCP程序：ECHO SERVER</span>基于TCP的Echo Server包括服务器<span class="token operator">/</span>客户机两个部分：服务端应用程序和客户机应用程序。服务端应用程序创建一个socket并绑定到某个IP地址：端口号上，然后侦听listen，并使用阻塞方法accept以等待客户机连接请求；客户机创建一个socket，并建立到服务器的连接；客户机循环接受用户数据并发送数据到服务器，服务器接收数据后回送（Echo）给客户机。客户机输入空数据时，关闭socket并终止运行；服务器接收到空数据时，关闭socket并终止运行。<span class="token comment" spellcheck="true">#服务端应用程序CHATSERVER   TCP</span><span class="token keyword">import</span> socketserversocket<span class="token operator">=</span>socket<span class="token punctuation">.</span>socket<span class="token punctuation">(</span>socket<span class="token punctuation">.</span>AF_INET<span class="token punctuation">,</span>socket<span class="token punctuation">.</span>SOCK_STREAM<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#创建服务器socket</span>serversocket<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span><span class="token number">8000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#绑定到IP地址和端口号</span>serversocket<span class="token punctuation">.</span>listen<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#开始侦听，队列长度为1</span>clientsocket<span class="token punctuation">,</span>clientaddress<span class="token operator">=</span>serversocket<span class="token punctuation">.</span>accept<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#使用阻塞方法accept以等待客户机连接请求</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Connection from'</span><span class="token punctuation">,</span>clientaddress<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#接受客户机请求后输出客户机的信息</span><span class="token keyword">while</span> <span class="token number">1</span> <span class="token punctuation">:</span>    <span class="token comment" spellcheck="true">#循环以接收和回送客户机数据</span>    data<span class="token operator">=</span>clientsocket<span class="token punctuation">.</span>recy<span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#接收数据</span>    <span class="token keyword">if</span> <span class="token operator">not</span> data<span class="token punctuation">:</span> <span class="token keyword">break</span>    <span class="token comment" spellcheck="true">#接收到空数据时，终止循环</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Received from client:'</span><span class="token punctuation">,</span>repr<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#输出接收到的数据，repr函数转换为字符串</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Echo:'</span><span class="token punctuation">,</span>repr<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#输出发送到客户机数据的信息</span>    clientsocket<span class="token punctuation">.</span>send<span class="token punctuation">(</span>data<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#回送数据到客户机</span>clientsocket<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#关闭客户机socket</span>serversocket<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#关闭服务器socket</span></code></pre><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#ChatServerUDP.py</span><span class="token keyword">import</span> socketserversocket<span class="token operator">=</span>socket<span class="token punctuation">.</span>socket<span class="token punctuation">(</span>socket AF_INET<span class="token punctuation">,</span>socket<span class="token punctuation">.</span>SOCK_DGRAM<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#创建服务器socket</span>serversocket<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span><span class="token number">8000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#绑定到IP地址和端口号</span><span class="token keyword">while</span> <span class="token number">1</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true">#循环以接收和回送客户机数据</span>    data<span class="token punctuation">,</span>address<span class="token operator">=</span>serversocket<span class="token punctuation">.</span>recvfrom<span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#接收数据，返回数据和客户机地址</span>    <span class="token keyword">if</span> <span class="token operator">not</span> data<span class="token punctuation">:</span><span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">#接收到空数据时，终止循环</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Received from client:'</span><span class="token punctuation">,</span>address<span class="token punctuation">,</span>repr<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#输出接收到的数据，repr函数转换为字符串</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Echo:'</span><span class="token punctuation">,</span>repr<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#输出发送到客户机数据的信息</span>    serversocket<span class="token punctuation">.</span>sendto<span class="token punctuation">(</span>data<span class="token punctuation">,</span>address<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#发送数据到客户机</span>serversocket<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#关闭服务器socket</span></code></pre><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#服务器应用程序QUOTESERVER</span><span class="token keyword">import</span> socket<span class="token punctuation">,</span>randomquotes<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'不妄求，则心安，不妄做，则身安'</span><span class="token punctuation">,</span><span class="token string">'多门之室生风，多言之人生祸'</span><span class="token punctuation">,</span><span class="token string">'人之心胸，多欲则窄，寡欲则宽'</span><span class="token punctuation">,</span><span class="token string">'三人行，必有我师'</span><span class="token punctuation">,</span><span class="token string">'滴水穿石，磨杵成针'</span><span class="token punctuation">,</span><span class="token string">'是非天天有，不听自然无'</span><span class="token punctuation">,</span><span class="token string">'积德为产业，强胜于美宅良田'</span><span class="token punctuation">]</span>serversocket<span class="token operator">=</span>socket<span class="token punctuation">.</span>socket<span class="token punctuation">(</span>socket<span class="token punctuation">.</span>AF_INET<span class="token punctuation">,</span>socket<span class="token punctuation">.</span>DGRAM<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#创建服务器socket</span>serversocket<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span><span class="token number">8002</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#绑定到IP地址和端口号</span><span class="token keyword">while</span> <span class="token number">1</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true">#循环以接收和回送客户机数据</span>    data<span class="token punctuation">,</span>address<span class="token operator">=</span>serversocket<span class="token punctuation">.</span>recvfrom<span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#接收数据，返回数据和客户机地址</span>    quote<span class="token operator">=</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>quotes<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#从Quotes列表中随机选择一个项目</span>    serversocket<span class="token punctuation">.</span>sendto<span class="token punctuation">(</span>quote<span class="token punctuation">,</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>address<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#把数据转换为bytes对象，并发送数据到客户机</span>serversocket<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#关闭服务器socket</span></code></pre><h1 id="二、基于URLLIB的网络编程"><a href="#二、基于URLLIB的网络编程" class="headerlink" title="二、基于URLLIB的网络编程"></a>二、基于URLLIB的网络编程</h1><ul><li>urllib.request(打开和读取URL）</li><li>urllib.parse(解析URL)</li><li>urllib.error(urllib.request引发的异常)</li><li>urllib.robotparser(解析robots.txt文件)</li></ul><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#Request对象示例</span><span class="token keyword">import</span> urllib<span class="token punctuation">.</span>requestf<span class="token operator">=</span>urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span><span class="token string">'http://www.baidu.com'</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#打开URL资源</span><span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#读取200个字节，返回bytes对象并输出</span>f<span class="token operator">=</span>urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span><span class="token string">'http://www.baidu.com'</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#重新打开URL资源</span><span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#读取200个字节，返回bytes对象，转换为字符串并输出</span><span class="token keyword">with</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span><span class="token string">'http://www.baidu.com/'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>    <span class="token comment" spellcheck="true">#重新打开URL资源</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span>'utf<span class="token number">-8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#读取返回bytes对象转换为字符串并输出</span></code></pre><p><strong>网站文件robots.txt</strong>(“robots协议”，并非规范，只是约定俗成的，并不能保证网站的隐私)：</p><p>告诉网络爬虫爬取该网站时存在哪些限制：存放于网站根目录下的ASCII编码的文本文件，它通常告诉网络搜索引擎的漫游器（又称网络蜘蛛），此网站中的哪些内容是不应被搜索引擎的漫游器获取的，哪些是可以被漫游器获取的。</p><pre class=" language-python"><code class="language-python"><span class="token operator">/</span><span class="token operator">*</span>创建REQUEST对象urllib<span class="token punctuation">.</span>request模块中Request对象的构造函数如下<span class="token punctuation">:</span>urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>Request<span class="token punctuation">(</span>url<span class="token punctuation">,</span> data<span class="token operator">=</span>None<span class="token punctuation">,</span> headers<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> origin_req_host<span class="token operator">=</span>None<span class="token punctuation">,</span> unverifiable<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> method<span class="token operator">=</span>None<span class="token punctuation">)</span> <span class="token operator">*</span><span class="token operator">/</span><span class="token keyword">import</span> urllib<span class="token punctuation">.</span>request<span class="token keyword">def</span> <span class="token function">getURLInfo</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span>data<span class="token punctuation">,</span>headers<span class="token punctuation">)</span><span class="token punctuation">:</span>    req<span class="token operator">=</span>urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>Request<span class="token punctuation">(</span>url<span class="token punctuation">,</span>data<span class="token punctuation">,</span>headers<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#创建Request对象</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Full url:'</span><span class="token punctuation">,</span> req<span class="token punctuation">.</span>full_url<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#URL</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Host:'</span><span class="token punctuation">,</span> req<span class="token punctuation">.</span>host<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#主机和端口号</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Data:'</span><span class="token punctuation">,</span> req<span class="token punctuation">.</span>data<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#向服务器传送的数据</span><span class="token comment" spellcheck="true">#测试代码</span><span class="token keyword">if</span> __name__<span class="token operator">==</span><span class="token string">'__main__'</span><span class="token punctuation">:</span>    url<span class="token operator">=</span><span class="token string">'http://www.baidu.com/s'</span>    values<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'wd'</span><span class="token punctuation">:</span><span class="token string">'python'</span><span class="token punctuation">}</span>    data<span class="token operator">=</span>urllib<span class="token punctuation">.</span>parse<span class="token punctuation">.</span>urlencode<span class="token punctuation">(</span>values<span class="token punctuation">)</span>    data<span class="token operator">=</span>data<span class="token punctuation">.</span>encode<span class="token punctuation">(</span>encoding<span class="token operator">=</span><span class="token string">'UTF8'</span><span class="token punctuation">)</span>    headers<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'User-Agent'</span><span class="token punctuation">:</span><span class="token string">'Mozilla/4.0(compatible;MSIE 5.5;Windows NT)'</span><span class="token punctuation">}</span>    getURLInfo<span class="token punctuation">(</span>url<span class="token punctuation">,</span>data<span class="token punctuation">,</span>headers<span class="token punctuation">)</span></code></pre><p><img src="https://www.hualigs.cn/image/604a3a405d054.jpg" alt=""></p><h1 id="三、基于HTTP的网络编程"><a href="#三、基于HTTP的网络编程" class="headerlink" title="三、基于HTTP的网络编程"></a>三、基于HTTP的网络编程</h1><ul><li>http.client （低级别的HTTP协议客户端，高级别的URL打开则使用urllib.request）</li><li>http.server （基于socketserver的HTTP服务器类）</li><li>http.cookies （使用cookies实现状态管理的工具）</li><li>http.cookiejar （提供cookies的持久性）</li></ul><h1 id="四、基于FTPLIB的网络编程"><a href="#四、基于FTPLIB的网络编程" class="headerlink" title="四、基于FTPLIB的网络编程"></a>四、基于FTPLIB的网络编程</h1><ul><li>创建FTP对象</li><li>创建FTP_TLS对象 （传输层安全协议）</li></ul><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#创建FTP对象示例</span><span class="token keyword">from</span> ftplib <span class="token keyword">import</span> FTPftp<span class="token operator">=</span>FTP<span class="token punctuation">(</span><span class="token string">"ftp 1.at.proftpd.org"</span><span class="token punctuation">)</span>ftp<span class="token punctuation">.</span>login<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#无参数则匿名登录</span>ftp<span class="token punctuation">.</span>dir<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#罗列目录</span>ftp<span class="token punctuation">.</span>cwd<span class="token punctuation">(</span><span class="token string">'devel'</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#切换当前目录</span>ftp<span class="token punctuation">.</span>dir<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#创建FTP_TLS对象</span><span class="token keyword">from</span> ftplib <span class="token keyword">import</span> FTP_TLSftps<span class="token operator">=</span>FTP_TLS<span class="token punctuation">(</span><span class="token string">'ftp.python.org'</span><span class="token punctuation">)</span>ftps<span class="token punctuation">.</span>login<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#匿名登录安全控制通道</span>ftps<span class="token punctuation">.</span>prot_p<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#安全数据连接（加密传输）</span>ftps<span class="token punctuation">.</span>retrlines<span class="token punctuation">(</span><span class="token string">'LIST'</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#罗列目录清单</span>ftps<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#退出</span></code></pre><h1 id="五、基于POPLIB和SMTPLIB的网络编程"><a href="#五、基于POPLIB和SMTPLIB的网络编程" class="headerlink" title="五、基于POPLIB和SMTPLIB的网络编程"></a>五、基于POPLIB和SMTPLIB的网络编程</h1><ul><li>poplib模块提供了对POP3协议的支持</li><li>smtplib模块提供了对SMTP协议的支持</li><li>使用poplib和smtplib，可以实现接收和发送邮件的功能</li></ul><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#POP3示例</span><span class="token keyword">import</span> getpass<span class="token punctuation">,</span>poplibhost<span class="token operator">=</span><span class="token string">'YourPop3Host'</span>    <span class="token comment" spellcheck="true">#POP3服务器的主机名或IP地址，运行时需修改为对应的值</span>port<span class="token operator">=</span><span class="token number">110</span>    <span class="token comment" spellcheck="true">#POP3服务器的端口号，默认为110，运行时需修改为对应的值</span>pop3<span class="token operator">=</span>poplib<span class="token punctuation">.</span>POP3<span class="token punctuation">(</span>host<span class="token punctuation">,</span>port<span class="token operator">=</span>port<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#创建POP3对象</span>pop3<span class="token punctuation">.</span>user<span class="token punctuation">(</span>getpass<span class="token punctuation">.</span>getuser<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#用户名</span>pop3<span class="token punctuation">.</span>pass_<span class="token punctuation">(</span>getpass<span class="token punctuation">.</span>getpass<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#密码</span>numMessages<span class="token operator">=</span>len<span class="token punctuation">(</span>pop3<span class="token punctuation">.</span>list<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#邮件数</span><span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span>numMessages<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true">#接收邮件</span>    <span class="token keyword">for</span> j <span class="token keyword">in</span> pop3<span class="token punctuation">.</span>retr<span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span></code></pre><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#SMTP示例</span><span class="token keyword">import</span> smtplib<span class="token keyword">def</span> <span class="token function">prompt</span><span class="token punctuation">(</span>prompt<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> input<span class="token punctuation">(</span>prompt<span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span>fromaddr<span class="token operator">=</span>prompt<span class="token punctuation">(</span><span class="token string">"From: "</span><span class="token punctuation">)</span>tpaddrs<span class="token operator">=</span>prompt<span class="token punctuation">(</span><span class="token string">"To: "</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"输入信息，^D(Unix) or ^Z(Windows)结束输入："</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#添加From: 和 To: 头信息</span>msg<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">"From: %s\r\nTo: %s\r\n\r\n"</span><span class="token operator">%</span><span class="token punctuation">(</span>fromaddr <span class="token string">"."</span> join<span class="token punctuation">(</span>toaddrs<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        line<span class="token operator">=</span>input<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">except</span> EOFError<span class="token punctuation">:</span>        <span class="token keyword">break</span>    <span class="token keyword">if</span> <span class="token operator">not</span> line<span class="token punctuation">:</span>        <span class="token keyword">break</span>    msg<span class="token operator">=</span>msg<span class="token operator">+</span>line<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"信息长度为："</span><span class="token punctuation">,</span>len<span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">)</span>server<span class="token operator">=</span>smtplib<span class="token punctuation">.</span>SMTP<span class="token punctuation">(</span><span class="token string">'localhost'</span><span class="token punctuation">)</span>server<span class="token punctuation">.</span>set_debuglevel<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>server<span class="token punctuation">.</span>sendmail<span class="token punctuation">(</span>fromaddr<span class="token punctuation">,</span>toaddrs<span class="token punctuation">,</span>msg<span class="token punctuation">)</span>server<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>3/11/2021 11:51:54 PM </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Python数据库访问</title>
      <link href="2021/03/10/python-shu-ju-ku-fang-wen/"/>
      <url>2021/03/10/python-shu-ju-ku-fang-wen/</url>
      
        <content type="html"><![CDATA[<h1 id="一、Python数据库访问模块"><a href="#一、Python数据库访问模块" class="headerlink" title="一、Python数据库访问模块"></a>一、Python数据库访问模块</h1><p><strong>通用数据库访问模块：ODBC&amp;JDBC</strong></p><ul><li>ODBC Interface: PythonWin附带</li><li>pyodbc: 开源，完整实现DB-API2.0</li><li>mxPDBS: 付费，部分实现DB-API2.0</li><li>zxJDBC: Jython2.1+包含</li></ul><p><strong>专用数据库访问模块</strong></p><ul><li>MySQL: MySQL-python(MySQLdb，过时)、mysqlclient、pymysql、sqlalchemy(ORM框架，Web编程）</li><li>PostgreSQL: PyGreSQL</li><li>Oracle: DCOracle2</li><li>SQLServer: pymssql<h1 id="二、SQLite数据库"><a href="#二、SQLite数据库" class="headerlink" title="二、SQLite数据库"></a>二、SQLite数据库</h1>SQLite是一款开源的轻型的数据库</li><li>简单、资源低占用</li><li>实现了大部分SQL-92标准</li><li>无类型检查，适用于脚本语言</li><li>整个SQLite数据库存于一个文件<br>  SQLite支持的数据类型包括：NULL、INTEGER、REAL、TEXT和BLOB，分别对应Python的数据类型：None、int、float、str和bytes</li></ul><p><strong>sqlite3模块</strong><br>C实现，提供访问和操作SQLite数据库的各种功能<br>sqlite3模块：</p><ul><li>sqlite3.version    #常量</li><li>sqlite3.connect(database)    #函数，返回Connect对象</li><li>sqlite3.Connect    #数据库连接对象</li><li>sqlite3.Cursor    #游标对象</li><li>sqlite3.Row    #行对象<h1 id="三、连接和操作SQLITE数据库"><a href="#三、连接和操作SQLITE数据库" class="headerlink" title="三、连接和操作SQLITE数据库"></a>三、连接和操作SQLITE数据库</h1>Python访问数据库的典型步骤：</li></ul><ol><li>导入相应的数据库模块</li><li>建立数据库连接，返回Connection对象</li></ol><pre class=" language-python"><code class="language-python">con<span class="token operator">=</span>sqlite3<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>r<span class="token string">"c:\python\sales.db"</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#r是对字符'\'转义</span>con<span class="token operator">=</span>pymsql<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span>port<span class="token operator">=</span><span class="token number">3306</span><span class="token punctuation">,</span>user<span class="token operator">=</span><span class="token string">'abc'</span><span class="token punctuation">,</span>password<span class="token operator">=</span><span class="token string">'123456'</span><span class="token punctuation">,</span>db<span class="token operator">=</span><span class="token string">'test1'</span><span class="token punctuation">,</span>charset<span class="token operator">=</span><span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#服务器端数据库的连接</span></code></pre><ol start="3"><li>创建游标对象cur</li><li>使用Cursor对象得到execute执行SQL命令返回结果<br>（建议直接使用Connection对象的execute方法，返回Cursor对象）</li></ol><pre class=" language-python"><code class="language-python">cur<span class="token operator">=</span>con<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">"select id,name from region"</span><span class="token punctuation">)</span>regions<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">"021"</span><span class="token punctuation">,</span><span class="token string">"上海"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">"022"</span><span class="token punctuation">,</span><span class="token string">"天津"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">"023"</span><span class="token punctuation">,</span><span class="token string">"重庆"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">"024"</span><span class="token punctuation">,</span><span class="token string">"沈阳"</span><span class="token punctuation">)</span><span class="token punctuation">]</span>con<span class="token punctuation">.</span>executemany<span class="token punctuation">(</span><span class="token string">"insert into region(id,name) values(?,?)"</span><span class="token punctuation">,</span>regions<span class="token punctuation">)</span></code></pre><ol start="5"><li>获取游标的查询结果集Cursor.fetch()</li></ol><pre class=" language-python"><code class="language-python">cor<span class="token punctuation">.</span>fetchone<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#返回结果集的下一行(Row对象)，或None</span>cor<span class="token punctuation">.</span>fetchall<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#返回结果集的剩余行(Row对象列表)，或空表</span>cor<span class="token punctuation">.</span>fetchmany<span class="token punctuation">(</span>n<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#返回结果集的多行(Row对象列表)，或空表</span>cor<span class="token punctuation">.</span>rowcount    <span class="token comment" spellcheck="true">#执行sql命令实际影响的行数</span></code></pre><p>Row对象r为一行查询结果序列，支持以下访问</p><pre class=" language-python"><code class="language-python">r<span class="token punctuation">[</span>i<span class="token punctuation">]</span>    <span class="token comment" spellcheck="true">#按索引访问，返回第i列数据</span>r<span class="token punctuation">[</span>colname<span class="token punctuation">]</span>    <span class="token comment" spellcheck="true">#按列名访问，返回colname列数据</span>len<span class="token punctuation">(</span>r<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#返回列数</span>r<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#返回列名列表</span><span class="token comment" spellcheck="true">#应用</span><span class="token keyword">for</span> r <span class="token keyword">in</span> con<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">"select id,name from region"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>r<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><ol start="6"><li>数据库的提交和回滚</li></ol><pre class=" language-python"><code class="language-python">con<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#提交</span>con<span class="token punctuation">.</span>rollback<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#回滚</span></code></pre><ol start="7"><li>关闭Cursor对象和Connection对象</li></ol><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#cur.close()    #关闭游标</span><span class="token comment" spellcheck="true">#con.close()    #关闭数据库</span>r<span class="token operator">=</span>con<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">"delete from region where id=?"</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token string">"024"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'删除了'</span><span class="token punctuation">,</span>r<span class="token punctuation">.</span>rowcount<span class="token punctuation">,</span><span class="token string">'行记录'</span><span class="token punctuation">)</span>con<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#提交</span>con<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#关闭数据库</span></code></pre><h1 id="四、PYTHON使用MYSQL数据库"><a href="#四、PYTHON使用MYSQL数据库" class="headerlink" title="四、PYTHON使用MYSQL数据库"></a>四、PYTHON使用MYSQL数据库</h1><p>要使用Python操作MySQL，首先需要安装MySQL-Python的包，可用pip方式安装：pip install MySQLClient。<br>启动MySQL服务器：以管理员身份启动cmd，输入命令：net start mysql<br>Python中使用MySQL: import MySQLdb<br>创建Connection</p><pre class=" language-python"><code class="language-python">con<span class="token operator">=</span>MySQLdb<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span>port<span class="token operator">=</span><span class="token number">3306</span><span class="token punctuation">,</span>user<span class="token operator">=</span><span class="token string">'abc'</span><span class="token punctuation">,</span>password<span class="token operator">=</span><span class="token string">'123456'</span><span class="token punctuation">,</span>db<span class="token operator">=</span><span class="token string">'test1'</span><span class="token punctuation">,</span>charset<span class="token operator">=</span><span class="token string">'utf8'</span><span class="token punctuation">)</span></code></pre><p>Connection支持的方法：</p><ul><li>cursor()    #创建并返回游标</li><li>commit()    #提交当前事务</li><li>rollback()    #回滚当前事务</li><li>close()    #关闭Connection</li></ul><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#MySQL示例</span>conn<span class="token operator">=</span>MySQLdb<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span>post<span class="token operator">=</span><span class="token number">3306</span><span class="token punctuation">,</span>user<span class="token operator">=</span><span class="token string">'abc'</span><span class="token punctuation">,</span>password<span class="token operator">=</span><span class="token string">'123456'</span><span class="token punctuation">,</span>db<span class="token operator">=</span><span class="token string">'test1'</span><span class="token punctuation">,</span>charset<span class="token operator">=</span><span class="token string">'utf8'</span><span class="token punctuation">)</span>cur<span class="token operator">=</span>conn<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span>cur<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token triple-quoted-string string">"""create table if not EXISTS user(userid int(11) PRIMARY KEY,username VARCHAR(20))"""</span><span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    cur<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">"insert into user(userid,username) values('%d','%s')"</span><span class="token operator">%</span><span class="token punctuation">(</span>int<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'name'</span><span class="token operator">+</span>str<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>conn<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">'select * from user'</span><span class="token punctuation">)</span><span class="token keyword">try</span><span class="token punctuation">:</span>    cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">'update user set username="name91" where userid=9'</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>cursor<span class="token punctuation">.</span>rowcount<span class="token punctuation">)</span>    conn<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>    conn<span class="token punctuation">.</span>rollback<span class="token punctuation">(</span><span class="token punctuation">)</span>cur<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>conn<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>3/10/2021 11:31:38 PM </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>数值、日期和时间处理</title>
      <link href="2021/03/10/shu-zhi-ri-qi-he-shi-jian-chu-li/"/>
      <url>2021/03/10/shu-zhi-ri-qi-he-shi-jian-chu-li/</url>
      
        <content type="html"><![CDATA[<h1 id="1、相关模块概述"><a href="#1、相关模块概述" class="headerlink" title="1、相关模块概述"></a>1、相关模块概述</h1><h2 id="1-数值处理的相关模块"><a href="#1-数值处理的相关模块" class="headerlink" title="1.数值处理的相关模块"></a>1.数值处理的相关模块</h2><h3 id="（1）Python标准款中包括下列数值处理相关模块"><a href="#（1）Python标准款中包括下列数值处理相关模块" class="headerlink" title="（1）Python标准款中包括下列数值处理相关模块"></a>（1）Python标准款中包括下列数值处理相关模块</h3><ul><li>numbers模块：数值抽象类。包含类Complex、Real、Rational、Integral。</li><li>math模块：数学函数</li><li>cmath模块：复数运算数学函数</li><li>decimal模块：高精度数值运算</li><li>fractions模块：分数运算模块</li><li>random模块：随机数模块<br><img src="https://www.hualigs.cn/image/6048d9b722e3a.jpg" alt=""></li></ul><h3 id="（2）数值运算模块Numpy。"><a href="#（2）数值运算模块Numpy。" class="headerlink" title="（2）数值运算模块Numpy。"></a>（2）数值运算模块Numpy。</h3><p>Numpy模块主要提供数组和矩阵处理功能，还包括高级功能，如傅里叶变换等。</p><h3 id="（3）科学计算模块SciPy。"><a href="#（3）科学计算模块SciPy。" class="headerlink" title="（3）科学计算模块SciPy。"></a>（3）科学计算模块SciPy。</h3><p>SciPy模块包括统计、优化、整合、线性代数、傅里叶变换、信号和图像处理、常微分方程求解器等功能。</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#random应用</span><span class="token comment" spellcheck="true">#随机生成扑克牌的四手牌（4个人的牌局，每手牌13张）</span><span class="token keyword">import</span> random<span class="token comment" spellcheck="true">#一副牌：Club（梅花）、Diamond（方块）、Heart（红桃）、Spade（黑桃）</span>cards<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'2C'</span><span class="token punctuation">,</span><span class="token string">'3C'</span><span class="token punctuation">,</span><span class="token string">'4C'</span><span class="token punctuation">,</span><span class="token string">'5C'</span><span class="token punctuation">,</span><span class="token string">'6C'</span><span class="token punctuation">,</span><span class="token string">'7C'</span><span class="token punctuation">,</span><span class="token string">'8C'</span><span class="token punctuation">,</span><span class="token string">'9C'</span><span class="token punctuation">,</span><span class="token string">'10C'</span><span class="token punctuation">,</span><span class="token string">'JC'</span><span class="token punctuation">,</span><span class="token string">'QC'</span><span class="token punctuation">,</span><span class="token string">'KC'</span><span class="token punctuation">,</span><span class="token string">'AC'</span><span class="token punctuation">,</span>       <span class="token string">'2D'</span><span class="token punctuation">,</span><span class="token string">'3C'</span><span class="token punctuation">,</span><span class="token string">'4D'</span><span class="token punctuation">,</span><span class="token string">'5D'</span><span class="token punctuation">,</span><span class="token string">'6D'</span><span class="token punctuation">,</span><span class="token string">'7D'</span><span class="token punctuation">,</span><span class="token string">'8D'</span><span class="token punctuation">,</span><span class="token string">'9D'</span><span class="token punctuation">,</span><span class="token string">'10D'</span><span class="token punctuation">,</span><span class="token string">'JD'</span><span class="token punctuation">,</span><span class="token string">'QD'</span><span class="token punctuation">,</span><span class="token string">'KD'</span><span class="token punctuation">,</span><span class="token string">'AD'</span><span class="token punctuation">,</span>       <span class="token string">'2H'</span><span class="token punctuation">,</span><span class="token string">'3H'</span><span class="token punctuation">,</span><span class="token string">'4H'</span><span class="token punctuation">,</span><span class="token string">'5H'</span><span class="token punctuation">,</span><span class="token string">'6H'</span><span class="token punctuation">,</span><span class="token string">'7H'</span><span class="token punctuation">,</span><span class="token string">'8H'</span><span class="token punctuation">,</span><span class="token string">'9H'</span><span class="token punctuation">,</span><span class="token string">'10H'</span><span class="token punctuation">,</span><span class="token string">'JH'</span><span class="token punctuation">,</span><span class="token string">'QH'</span><span class="token punctuation">,</span><span class="token string">'KH'</span><span class="token punctuation">,</span><span class="token string">'AH'</span><span class="token punctuation">,</span>       <span class="token string">'2S'</span><span class="token punctuation">,</span><span class="token string">'3S'</span><span class="token punctuation">,</span><span class="token string">'4S'</span><span class="token punctuation">,</span><span class="token string">'5S'</span><span class="token punctuation">,</span><span class="token string">'6S'</span><span class="token punctuation">,</span><span class="token string">'7S'</span><span class="token punctuation">,</span><span class="token string">'8S'</span><span class="token punctuation">,</span><span class="token string">'9S'</span><span class="token punctuation">,</span><span class="token string">'10S'</span><span class="token punctuation">,</span><span class="token string">'JS'</span><span class="token punctuation">,</span><span class="token string">'QS'</span><span class="token punctuation">,</span><span class="token string">'KS'</span><span class="token punctuation">,</span><span class="token string">'AS'</span><span class="token punctuation">]</span>random<span class="token punctuation">.</span>shuffle<span class="token punctuation">(</span>cards<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#混排，洗牌</span>deck1<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>deck2<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>deck3<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>deck4<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token comment" spellcheck="true">#初始化四手牌</span><span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true">#发牌</span>    deck1<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cards<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    deck2<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cards<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    deck3<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cards<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    deck4<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cards<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>deck1<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>deck2<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>deck3<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>deck4<span class="token punctuation">)</span>       </code></pre><h2 id="2-数值运算模块NUMPY"><a href="#2-数值运算模块NUMPY" class="headerlink" title="2.数值运算模块NUMPY"></a>2.数值运算模块NUMPY</h2><h3 id="（1）创建数组"><a href="#（1）创建数组" class="headerlink" title="（1）创建数组"></a>（1）创建数组</h3><p>（1）通过array函数，把序列对象参数转化为数组</p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> npa<span class="token operator">=</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>b<span class="token operator">=</span>mp<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>（2）通过arrange、linspace和logspace函数创建数组</p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> npa<span class="token operator">=</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#从start到stop，2为步长</span>b<span class="token operator">=</span>np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">*</span>np<span class="token punctuation">.</span>pi<span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#从0到2pi，创建长度为10的等差数列数组</span>c<span class="token operator">=</span>np<span class="token punctuation">.</span>logspace<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#等比数列</span></code></pre><p><img src="https://www.hualigs.cn/image/6048d9b14717c.jpg" alt=""></p><h3 id="（2）数组应用"><a href="#（2）数组应用" class="headerlink" title="（2）数组应用"></a>（2）数组应用</h3><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#绘制正弦余弦函数图形</span><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np <span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt <span class="token keyword">import</span> mathx<span class="token operator">=</span>np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">*</span>np<span class="token punctuation">.</span>pi<span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>y1<span class="token operator">=</span>np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>x<span class="token punctuation">)</span>y2<span class="token operator">=</span>np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>x<span class="token punctuation">)</span>plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y1<span class="token punctuation">,</span>x<span class="token punctuation">,</span>y2<span class="token punctuation">)</span>plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><img src="https://www.hualigs.cn/image/6048d9b12e910.jpg" alt="">                                       </p><h1 id="2、日期和时间处理概述"><a href="#2、日期和时间处理概述" class="headerlink" title="2、日期和时间处理概述"></a>2、日期和时间处理概述</h1><ul><li><p>datetime模块：日期和时间类</p></li><li><p>calendar模块：日历函数和类</p></li><li><p>time模块：时间函数</p><h2 id="1-DATETIME模块"><a href="#1-DATETIME模块" class="headerlink" title="1.DATETIME模块"></a>1.DATETIME模块</h2></li><li><p>两个常量：datetime.MINTEAR(1)和datetime.MAXYEAR(9999)</p></li><li><p>获取当前日期时间<br>  通过datetime模块的date.today()函数可以返回表示当前日期的date对象，通过其实例对象方法，可以获取其年、月、日等信息</p><p>  通过datime模块的datetime.now()函数可以返回表示当前日期时间的datetime对象，通过其实例对象方法，可以获取其年、月、日、时、分、秒等信息</p><h2 id="2-time模块"><a href="#2-time模块" class="headerlink" title="2.time模块"></a>2.time模块</h2></li><li><p>time模块中的strftime()函数将struct_time对象格式化为字符串</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#日期时间格式化为字符串示例</span><span class="token keyword">from</span> time <span class="token keyword">import</span> <span class="token operator">*</span><span class="token keyword">print</span><span class="token punctuation">(</span>strftime<span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span>localtime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>strftime<span class="token punctuation">(</span><span class="token string">'%Y{y}%m{m}%d{d}%H{h}%M{f}%S{s}'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>y<span class="token operator">=</span><span class="token string">'年'</span><span class="token punctuation">,</span>m<span class="token operator">=</span><span class="token string">'月'</span><span class="token punctuation">,</span>d<span class="token operator">=</span><span class="token string">'日'</span><span class="token punctuation">,</span>h<span class="token operator">=</span><span class="token string">'时'</span><span class="token punctuation">,</span>f<span class="token operator">=</span><span class="token string">'分'</span><span class="token punctuation">,</span>s<span class="token operator">=</span><span class="token string">'秒'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></li><li><p>time模块中的strptime()函数将时间字符串解析为struct_time对象</p></li></ul><h1 id="3、字符串和文本处理的相关模块"><a href="#3、字符串和文本处理的相关模块" class="headerlink" title="3、字符串和文本处理的相关模块"></a>3、字符串和文本处理的相关模块</h1><ul><li>string模块：包含若干字符集常量，其处理字符串的函数已经被字符串对象的方法替代</li><li>re模块：正则表达式处理</li><li>codecs模块：字符编码处理</li><li>difflib模块：比较字符串列表的差异</li><li>gettext模块：语言国际化</li><li>textwrap模块：格式化文本段落</li><li>unicodedata模块：Unicode字符库<br>3/10/2021 10:56:22 PM </li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>基于MATOLOTLIB模块的绘图</title>
      <link href="2021/03/09/ji-yu-matolotlib-mo-kuai-de-hui-tu/"/>
      <url>2021/03/09/ji-yu-matolotlib-mo-kuai-de-hui-tu/</url>
      
        <content type="html"><![CDATA[<p>Matplotlib是一套面向对象的绘图库，其绘制的图表中的每个绘图元素（例如线条、文字、刻度等）都是对象</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#绘制x轴坐标值为0、1、2、3、4，所对应的y轴坐标值为1、2、5、6、8的折线图</span><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> pltplt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">'some numbers'</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><img src="https://www.hualigs.cn/image/60476819d3dd7.jpg" alt=""></p><p>plot()函数</p><ul><li>plot(x,y,’bo’)    #用蓝色，小圆点标记</li></ul><ul><li>plot(y)    #改变纵轴坐标数值，横轴默认0,1,2……</li></ul><ul><li>plot(x1,y1,’g^’,x2,y2,’g-o’)    #使用多个x,y,format对作变量，把它们画在一个图里，格式串也可改为color=’green’,linestyle=’dashen’,marker=’o’。</li></ul><p>subplot(numRows,numCols,plotNum)快速绘制包含多个子图的图表，左上的子区域的编号为1，若numRows, numCols和plotNum这三个数都小于10的话，可缩写为一个整数，例如subplot(323)等价于subplot(3,2,3)，subplot在plotNum指定的区域中创建一个轴对象。</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#使用Matplotlib模块绘制y=sin(x)的函数曲线</span><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt<span class="token keyword">import</span> mathx<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token operator">*</span>math<span class="token punctuation">.</span>pi<span class="token operator">*</span>i<span class="token operator">/</span><span class="token number">100</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">]</span>y<span class="token operator">=</span><span class="token punctuation">[</span>math<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> x<span class="token punctuation">]</span>plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span>plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><img src="https://www.hualigs.cn/image/604764dc6bfb2.jpg" alt=""></p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#利用NumPy模块和Matplotlib.pyplot工具包绘制y=e^-x*cos(2*pi*x)以及y=cos(2*pi*x)的函数曲线</span><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np <span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> np<span class="token punctuation">.</span>exp<span class="token punctuation">(</span><span class="token operator">-</span>t<span class="token punctuation">)</span><span class="token operator">*</span>np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>np<span class="token punctuation">.</span>pi<span class="token operator">*</span>t<span class="token punctuation">)</span>t1<span class="token operator">=</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span><span class="token number">5.0</span><span class="token punctuation">,</span><span class="token number">0.1</span><span class="token punctuation">)</span>t2<span class="token operator">=</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span><span class="token number">5.0</span><span class="token punctuation">,</span><span class="token number">0.02</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">211</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>t1<span class="token punctuation">,</span>f<span class="token punctuation">(</span>t1<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'bo'</span><span class="token punctuation">,</span>t2<span class="token punctuation">,</span>f<span class="token punctuation">(</span>t2<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'k'</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">212</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>t2<span class="token punctuation">,</span>np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>np<span class="token punctuation">.</span>pi<span class="token operator">*</span>t2<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'r--'</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><img src="https://www.hualigs.cn/image/604764dc3b957.jpg" alt=""></p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#随机生成满足mu为100、sigma为20的正态分布数据，并绘制其直方图</span><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np mu<span class="token punctuation">,</span>sigma<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">20</span>x<span class="token operator">=</span>mu<span class="token operator">+</span>sigma<span class="token operator">*</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>hist<span class="token punctuation">(</span>x<span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span>density<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>facecolor<span class="token operator">=</span><span class="token string">'b'</span><span class="token punctuation">,</span>alpha<span class="token operator">=</span><span class="token number">0.75</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#绘制直方图</span>plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">'IQ'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#绘制坐标等信息</span>plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">'Probability'</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'Histogram of IQ'</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>axis<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">180</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0.03</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#设置坐标和网格</span>plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><img src="https://www.hualigs.cn/image/604764dc6e394.jpg" alt=""><br>                                      ​<br>3/9/2021 8:23:59 PM </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>你好 CODING</title>
      <link href="2021/03/04/hello-world/"/>
      <url>2021/03/04/hello-world/</url>
      
        <content type="html"><![CDATA[<p>欢迎使用 <a href="https://help.coding.net/docs/cd/static-website-v2.html" target="_blank" rel="noopener">CODING DevOps 静态网站</a> 部署 <a href="https://hexo.io/zh-cn/" target="_blank" rel="noopener">Hexo</a> 应用！<br>您可以到这里查看更多的 Hexo 的 <a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">文档</a>。</p><p>这是你的第一篇文章。</p><h2 id="快速开始"><a href="#快速开始" class="headerlink" title="快速开始"></a>快速开始</h2><h3 id="新建文章"><a href="#新建文章" class="headerlink" title="新建文章"></a>新建文章</h3><pre class=" language-bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span></code></pre><p>相关帮助: <a href="https://hexo.io/zh-cn/docs/writing.html" target="_blank" rel="noopener">写作</a></p><h3 id="本地运行"><a href="#本地运行" class="headerlink" title="本地运行"></a>本地运行</h3><pre class=" language-bash"><code class="language-bash">$ hexo server</code></pre><p>相关帮助: <a href="https://hexo.io/zh-cn/docs/server.html" target="_blank" rel="noopener">服务器</a></p><h3 id="部署到线上"><a href="#部署到线上" class="headerlink" title="部署到线上"></a>部署到线上</h3><pre class=" language-bash"><code class="language-bash">$ <span class="token function">git</span> add <span class="token keyword">.</span> <span class="token operator">&amp;&amp;</span> <span class="token function">git</span> commit -m <span class="token string">'new post'</span> <span class="token operator">&amp;&amp;</span> <span class="token function">git</span> push</code></pre>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
